<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyTube Pro Launcher</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg-black: #0f0f0f; 
            --glass-bg: rgba(25, 25, 25, 0.85); 
            --text-white: #ffffff; 
            --yt-red: #ff0000; 
        }
        
        body { 
            font-family: 'Roboto', sans-serif; 
            background-color: var(--bg-black); 
            color: white; 
            margin: 0; 
            padding-top: 115px; /* Espacio para el header */
            padding-bottom: 75px; 
            overflow-x: hidden; 
        }

        /* HEADER Y SECCIONES CON ANIMACIÓN DE OCULTAR */
        .header-fixed { 
            position: fixed; 
            top: 0; 
            width: 100%; 
            background: var(--glass-bg); 
            backdrop-filter: blur(15px); 
            -webkit-backdrop-filter: blur(15px);
            z-index: 1000; 
            border-bottom: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s ease-in-out; /* Animación suave */
        }
        
        /* Clase para esconder el menú */
        .header-hidden {
            transform: translateY(-100%);
        }

        .header { height: 56px; display: flex; align-items: center; padding: 0 16px; box-sizing: border-box; }
        .logo-section { font-size: 19px; font-weight: bold; display: flex; align-items: center; }
        .logo-section span { background: var(--yt-red); padding: 1px 5px; border-radius: 4px; margin-right: 4px; font-size: 14px; }
        
        .fake-search { 
            background: rgba(255,255,255,0.1); 
            flex: 1; margin: 0 10px; padding: 8px 15px; border-radius: 20px; 
            color: #ccc; font-size: 14px; display: flex; justify-content: space-between; align-items: center; 
        }

        .sections-bar { display: flex; overflow-x: auto; padding: 10px 12px; gap: 8px; scrollbar-width: none; }
        .sections-bar::-webkit-scrollbar { display: none; }
        
        .chip { 
            background: rgba(255,255,255,0.15); color: white; padding: 6px 14px; 
            border-radius: 8px; font-size: 14px; white-space: nowrap; border: 1px solid rgba(255,255,255,0.1); 
        }

        /* FEED */
        .feed { padding: 10px 12px; display: flex; flex-direction: column; gap: 20px; }
        .card { border-radius: 12px; overflow: hidden; }
        .card-thumb { width: 100%; height: 210px; border-radius: 12px; background-size: cover; background-position: center; background-color: #222; }
        .card-title { font-size: 17px; font-weight: 500; padding: 10px 5px; margin: 0; }

        /* NAV INFERIOR TRANSPARENTE */
        .nav-bottom { 
            position: fixed; bottom: 0; width: 100%; background: var(--glass-bg); 
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            height: 65px; display: flex; justify-content: space-around; align-items: center; 
            border-top: 1px solid rgba(255,255,255,0.1); z-index: 1000; 
        }
        
        .nav-item { display: flex; flex-direction: column; align-items: center; color: white; font-size: 10px; }
        .nav-item svg { width: 24px; height: 24px; fill: white; margin-bottom: 4px; }

        /* BUSCADOR */
        #search-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-black); z-index: 2000; display: none; flex-direction: column; }
    </style>
</head>
<body>

    <div class="header-fixed" id="mainHeader">
        <div class="header">
            <div class="logo-section"><span>My</span>Tube</div>
            <div class="fake-search" onclick="openSearch()">
                Buscar...
                <svg style="width:16px; fill:white" viewBox="0 0 24 24"><path d="M20.87,20.17l-5.59-5.59C16.35,13.35,17,11.75,17,10c0-3.87-3.13-7-7-7s-7,3.13-7,7s3.13,7,7,7c1.75,0,3.35-0.65,4.58-1.71 l5.59,5.59L20.87,20.17z M10,16c-3.31,0-6-2.69-6-6s2.69-6,6-6s6,2.69,6,6S13.31,16,10,16z"></path></svg>
            </div>
        </div>
        <div class="sections-bar">
            <div class="chip" onclick="ejecutarBusqueda('Todo')">Todo</div>
            <div class="chip" onclick="ejecutarBusqueda('Música')">Música</div>
            <div class="chip" onclick="ejecutarBusqueda('Películas')">Películas</div>
            <div class="chip" onclick="ejecutarBusqueda('Mixes')">Mixes</div>
            <div class="chip" onclick="ejecutarBusqueda('Gaming')">Gaming</div>
        </div>
    </div>

    <div id="feed" class="feed"></div>

    <div class="nav-bottom">
        <div class="nav-item" onclick="window.location.href='https://m.youtube.com'"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>Inicio</div>
        <div class="nav-item" onclick="window.location.href='https://m.youtube.com/shorts'"><svg viewBox="0 0 24 24"><path d="M17.77,10.32l-1.2-.5L17.77,9.32a3.7,3.7,0,0,0-2.22-6.75,3.64,3.64,0,0,0-1.48.31l-7.44,3.1a3.69,3.69,0,0,0-2.22,3.38,3.71,3.71,0,0,0,2.22,3.37l1.2.5-1.2.5a3.69,3.69,0,0,0,2.22,6.74,3.63,3.63,0,0,0,1.48-.31l7.44-3.1a3.69,3.69,0,0,0,2.22-3.38A3.7,3.7,0,0,0,17.77,10.32ZM10,14.5v-5l4.5,2.5Z"/></svg>Shorts</div>
        <div class="nav-item" onclick="window.location.href='https://m.youtube.com/account'"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>Tú</div>
    </div>

    <script>
        // LOGICA PARA ESCONDER EL MENU AL DESLIZAR
        let lastScroll = 0;
        const header = document.getElementById('mainHeader');

        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;

            if (currentScroll <= 0) {
                header.classList.remove('header-hidden');
                return;
            }

            if (currentScroll > lastScroll && !header.classList.contains('header-hidden')) {
                // Deslizando hacia ABAJO -> Esconder
                header.classList.add('header-hidden');
            } else if (currentScroll < lastScroll && header.classList.contains('header-hidden')) {
                // Deslizando hacia ARRIBA -> Mostrar
                header.classList.remove('header-hidden');
            }
            lastScroll = currentScroll;
        });

        // Funciones de búsqueda (Mantienen tu historial)
        function ejecutarBusqueda(t) {
            if (!t) return;
            let historial = JSON.parse(localStorage.getItem('yt_history')) || [];
            historial = historial.filter(i => i.texto !== t);
            const img = `https://picsum.photos/seed/${Math.random()}/500/300`;
            historial.unshift({ texto: t, img: img });
            localStorage.setItem('yt_history', JSON.stringify(historial.slice(0,25)));
            window.location.href = "https://m.youtube.com/results?search_query=" + encodeURIComponent(t);
        }

        function mostrarFeed() {
            const feed = document.getElementById('feed');
            const historial = JSON.parse(localStorage.getItem('yt_history')) || [];
            feed.innerHTML = historial.map(item => `
                <div class="card" onclick="ejecutarBusqueda('${item.texto}')">
                    <div class="card-thumb" style="background-image: url('${item.img}')"></div>
                    <h3 class="card-title">${item.texto}</h3>
                </div>
            `).join('');
        }

        function openSearch() { /* Abre el buscador */ alert("Abriendo buscador..."); }
        window.onload = mostrarFeed;
    </script>
</body>
</html>
